{% extends 'base.html' %}

{% block content %}

<!DOCTYPE html>
<html>
	<head>
		<title>Halaman Transaksi</title>
	<body>
		<div id="layoutSidenav_content">
			<div class="container-fluid">
				<h1 class="mt-4">List Transaksi</h1>
					<ol class="breadcrumb mb-4">
						<li class="breadcrumb-item active">List Transaksi</li>
					</ol>
			<main>
				<div class="row">
				<div class="col-xl">
	<div class="card mb-4">
		<div class="card-header">
			<i class="fas fa-table mr-1"></i>		
		</div>
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
									<thead>
										<tr>
											<th>#</th>
											<th>Tanggal</th>
											<th>Produk</th>
											<th>Harga</th>
											<th>Quantity</th>
											<th>Total</th>		
										</tr>
									</thead>
			  						<tbody>
								  		{% for d in data %}
								    	<tr>
								      		<th>{{forloop.counter}}</th>
											<th>{{d.date}}</th>
											<td>{{d.products}}</td>
											<td>Rp.{{d.products.price}}</td>  
											<th>{{d.qty}}</th>
											<td>Rp.{{d.total}}</td>  
								    	{% endfor %}
									  </tbody>
									  <tr>
										<th>Total Semua</th>
										<th></th>
										<th></th>
										<th></th>
										<th></th>
										<th>Rp.{{total}}</th>
									</tr>
								</table>
								
			<!-- <a type="button" class="btn btn-danger" href="/sales/print">Beli</a> -->
			<td>
				<a type="button" class="btn btn-primary" href="#" data-toggle="modal" data-target="#print"><i class="fas fa-print"></i>
				<a type="button" class="btn btn-danger" href="#"><i class="fas fa-undo-alt"></i></a>
			</td>
		</div>
	</body>


	<!-- !-- Modal detail -->
<div class="modal fade" id="print" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
	<div class="modal-content" id="print">
	  <div class="modal-header">
		<h5 class="modal-title" id="detail">Print Data Penjualan</h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		  <span aria-hidden="true">&times;</span>
		</button>
	  </div>
	  <div class="modal-body">
		<div class="card mb-4">
			<div class="card-header">
				<i class="fas fa-table mr-1"></i>	
			</div>
			<div class="card-body">
				<div class="table-responsive">
					<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
										<thead>
											<tr>
												<!-- <th>#</th> -->
												<th>Tanggal</th>
												<th>Produk</th>
												<th>Harga</th>
												<th>Quantity</th>		
												<th>Total</th>
											</tr>
										</thead>
										  <tbody>
											  {% for d in data %}
											<tr>
												<!-- <th>{{forloop.counter}}</th> -->
												<th>{{d.date}}</th>
												<td>{{d.products}}</td>
												<td>Rp.{{d.products.price}}</td>  
												<td>{{d.qty}}</td>
												<td>Rp.{{d.total}}</td>  
												
											</tr>
											{% endfor %}
										  </tbody>
										  <tr>
											<th>Total Semua</th>
											<th></th>
											<th></th>
											<th></th>
											<th>Rp.{{total}}</th>
										</tr>
									</table>
				<!-- <td>
					<a type="button" class="btn btn-primary" href="#" data-toggle="modal" data-target="#print"><i class="fas fa-print"></i>
					<a type="button" class="btn btn-danger" href="#"><i class="fas fa-undo-alt"></i></a>
				</td> -->
			</div>
		</div>
	  </div>
	  <div class="modal-footer">
		<button onclick="printDiv()">Print</button>
		<script>
			function printDiv(){
			var printContents = document.getElementById("print").innerHTML;
			var originalContents = document.body.innerHTML;

			document.body.innerHTML = printContents;

			window.print();

			document.body.innerHTML = originalContents;

		}
		</script>
	  </div>
	</div>
  </div>
  {% endblock %}
